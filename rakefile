require 'rake/testtask'
task default: :mini_test
task :mini_test do
  ENV['COVERAGE'] = nil
  Dir.glob('**/test_*.rb').each { |file| require File.expand_path file, __dir__ }
end

task :shindo_test do
  ENV['COVERAGE'] = nil
  sh "shindo tests"
end

desc 'Generates a coverage report for minitest-cases'
task :minitest_coverage do
  ENV['COVERAGE'] = 'true'
  Dir.glob('**/test_*.rb').each { |file| require File.expand_path file, __dir__ }
end

desc 'Generates a coverage report for shindotest-cases'
task :shindo_coverage do
  ENV['COVERAGE'] = 'true'
  sh "shindo tests"
end